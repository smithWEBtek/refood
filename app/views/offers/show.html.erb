<% if flash[:error] %>
  <% flash[:error].each do |error| %>
    <div class="alert alert-danger">
      <%= error %>
    </div>
  <% end %>
<% end %>

<h1><%= @offer.title %></h1>

<ul>
  <li>Description: <%= @offer.description %></li>
  <li>Availability: <%= @offer.availability %></li>
  <li>Expiration: <%= @expiration %></li>
  <li>Fulfilled: <%= @offer.fulfilled ? "yes" : "no" %>
  <li>User: <%= @offer.giver.user.name %></li>
</ul>

<% if @offer.giver.user == current_user %>
  <%= button_to "Edit offer", edit_offer_path(@offer), class: "btn btn-primary", method: "get" %>

  <%= button_to "Delete offer", offer_path(@offer),method: "delete", class: "btn btn-danger", data: { confirm: "Are you sure you want to delete this offer?"} %>
<% elsif current_user.receiver.offers.include?(@offer) %>
    <%= button_to "Edit request", edit_offer_request_path(@offer, @request), method: "get", class: "btn btn-primary" %>
<% else %>
  <%= button_to "Make request", new_offer_request_path(@offer), method: "get", class: "btn btn-success" %>
<% end %>
